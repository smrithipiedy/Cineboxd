<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Browse Movies | My MovieBox</title>
  <link rel="stylesheet" href="browse.css" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>

<body>

  <header class="site-header">
    <div class="logo">üé¨ My MovieBox</div>
    <button class="menu-toggle" id="menuToggle">&#9776;</button>
    <nav id="navLinks">
      <a href="index.html">Home</a>
      <a href="browse.html" class="active">Browse</a>
      <a href="watchlist.html">Watchlist</a>
      <a href="notes.html">Notes</a>
      <a href="about.html">About</a>
      <a href="contact.html">Contact</a>
      <button id="themeToggle">üåô</button>
    </nav>
  </header>

  <section class="hero">
    <h1>Browse Movies</h1>
    <p>Discover your favorite films and add them to your collection</p>
    <div class="search-container">
      <input type="text" id="searchInput" placeholder="üîç Search by movie title...">
    </div>
  </section>

  <section class="tools-grid" id="movieGrid">
    <div class="tool-card" data-movie="inception">
      <img src="images/inception.jpeg" alt="Inception" loading="lazy">
      <div class="card-content">
        <h3>Inception (2010)</h3>
        <div class="rating">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
        <p class="genre">Sci-Fi ‚Ä¢ Thriller ‚Ä¢ Action</p>
        <button onclick="addToWatchlist('Inception', 'images/inception.jpeg')" class="watchlist-btn">
          <span class="btn-text">Add to Watchlist</span>
          <span class="btn-icon">üìã</span>
        </button>
      </div>
    </div>

    <div class="tool-card" data-movie="kill-bill">
      <img src="images/kill-bill-vol1.png" alt="Kill Bill: Vol. 1" loading="lazy">
      <div class="card-content">
        <h3>Kill Bill: Vol. 1 (2003)</h3>
        <div class="rating">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
        <p class="genre">Action ‚Ä¢ Crime ‚Ä¢ Thriller</p>
        <button onclick="addToWatchlist('Kill Bill: Vol. 1', 'images/kill-bill-vol1.png')" class="watchlist-btn">
          <span class="btn-text">Add to Watchlist</span>
          <span class="btn-icon">üìã</span>
        </button>
      </div>
    </div>

    <div class="tool-card" data-movie="interstellar">
      <img src="images/interstellar.webp" alt="Interstellar" loading="lazy">
      <div class="card-content">
        <h3>Interstellar (2014)</h3>
        <div class="rating">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
        <p class="genre">Sci-Fi ‚Ä¢ Drama ‚Ä¢ Adventure</p>
        <button onclick="addToWatchlist('Interstellar', 'images/interstellar.webp')" class="watchlist-btn">
          <span class="btn-text">Add to Watchlist</span>
          <span class="btn-icon">üìã</span>
        </button>
      </div>
    </div>

    <div class="tool-card" data-movie="pulp-fiction">
      <img src="images/pulp-fiction.png" alt="Pulp Fiction" loading="lazy">
      <div class="card-content">
        <h3>Pulp Fiction (1994)</h3>
        <div class="rating">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
        <p class="genre">Crime ‚Ä¢ Drama ‚Ä¢ Thriller</p>
        <button onclick="addToWatchlist('Pulp Fiction', 'images/pulp-fiction.png')" class="watchlist-btn">
          <span class="btn-text">Add to Watchlist</span>
          <span class="btn-icon">üìã</span>
        </button>
      </div>
    </div>

    <div class="tool-card" data-movie="dark-knight">
      <img src="images/dark-knight.jpeg" alt="The Dark Knight" loading="lazy">
      <div class="card-content">
        <h3>The Dark Knight (2008)</h3>
        <div class="rating">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
        <p class="genre">Action ‚Ä¢ Crime ‚Ä¢ Drama</p>
        <button onclick="addToWatchlist('The Dark Knight', 'images/dark-knight.jpeg')" class="watchlist-btn">
          <span class="btn-text">Add to Watchlist</span>
          <span class="btn-icon">üìã</span>
        </button>
      </div>
    </div>
  </section>

  <!-- Toast Notification -->
  <div id="toast" class="toast"></div>

  <footer class="site-footer">
    <p>Crafted with ‚ù§Ô∏è. Made by <strong>Jexan Joel</strong> & <strong>Smrithi</strong></p>
    <p>¬© 2025 My MovieBox</p>
  </footer>

  <script>
    // Theme Toggle
    const themeToggle = document.getElementById('themeToggle');

    // Load saved theme
    const savedTheme = localStorage.getItem('theme');
    if (savedTheme === 'dark') {
      document.body.classList.add('dark');
      themeToggle.textContent = '‚òÄÔ∏è';
    }

    themeToggle.addEventListener('click', () => {
      document.body.classList.toggle('dark');
      const isDark = document.body.classList.contains('dark');
      themeToggle.textContent = isDark ? '‚òÄÔ∏è' : 'üåô';
      localStorage.setItem('theme', isDark ? 'dark' : 'light');
    });

    // Mobile Menu Toggle
    const menuToggle = document.getElementById('menuToggle');
    const navLinks = document.getElementById('navLinks');

    menuToggle.addEventListener('click', () => {
      navLinks.classList.toggle('show');
    });

    // Close menu when clicking outside
    document.addEventListener('click', (e) => {
      if (!navLinks.contains(e.target) && !menuToggle.contains(e.target)) {
        navLinks.classList.remove('show');
      }
    });

    // Enhanced Search Functionality
    const searchInput = document.getElementById('searchInput');
    const cards = document.querySelectorAll('.tool-card');
    let searchTimeout;

    searchInput.addEventListener('input', (e) => {
      clearTimeout(searchTimeout);
      searchTimeout = setTimeout(() => {
        const query = e.target.value.toLowerCase().trim();
        let visibleCount = 0;

        cards.forEach(card => {
          const title = card.querySelector('h3').textContent.toLowerCase();
          const genre = card.querySelector('.genre').textContent.toLowerCase();
          const isVisible = title.includes(query) || genre.includes(query);

          card.style.display = isVisible ? 'flex' : 'none';
          if (isVisible) visibleCount++;

          // Add fade effect
          if (isVisible) {
            card.style.opacity = '0';
            setTimeout(() => {
              card.style.opacity = '1';
            }, 50);
          }
        });

        // Show no results message
        updateNoResultsMessage(query, visibleCount);
      }, 300);
    });

    // No Results Message
    function updateNoResultsMessage(query, count) {
      let noResultsMsg = document.getElementById('noResults');

      if (count === 0 && query) {
        if (!noResultsMsg) {
          noResultsMsg = document.createElement('div');
          noResultsMsg.id = 'noResults';
          noResultsMsg.className = 'no-results';
          noResultsMsg.innerHTML = `
            <div class="no-results-content">
              <h3>üé¨ No movies found</h3>
              <p>Try searching with different keywords</p>
            </div>
          `;
          document.getElementById('movieGrid').appendChild(noResultsMsg);
        }
        noResultsMsg.style.display = 'flex';
      } else if (noResultsMsg) {
        noResultsMsg.style.display = 'none';
      }
    }

    // Enhanced Watchlist Function with Toast Notification
    function addToWatchlist(title, poster) {
      let watchlist = JSON.parse(localStorage.getItem('watchlist')) || [];

      const exists = watchlist.some(movie => movie.title === title);

      if (!exists) {
        watchlist.push({
          title,
          poster,
          dateAdded: new Date().toISOString(),
          id: Date.now()
        });
        localStorage.setItem('watchlist', JSON.stringify(watchlist));
        showToast(`‚úÖ ${title} added to your watchlist!`, 'success');

        // Add visual feedback to button
        const button = event.target.closest('button');
        button.style.background = 'linear-gradient(135deg, #10b981, #059669)';
        button.querySelector('.btn-text').textContent = 'Added!';
        button.querySelector('.btn-icon').textContent = '‚úÖ';

        setTimeout(() => {
          button.style.background = '';
          button.querySelector('.btn-text').textContent = 'Add to Watchlist';
          button.querySelector('.btn-icon').textContent = 'üìã';
        }, 2000);

      } else {
        showToast(`‚ÑπÔ∏è ${title} is already in your watchlist.`, 'info');
      }
    }

    // Toast Notification System
    function showToast(message, type = 'success') {
      const toast = document.getElementById('toast');
      toast.textContent = message;
      toast.className = `toast toast-${type} show`;

      setTimeout(() => {
        toast.classList.remove('show');
      }, 3000);
    }

    // Add loading states for images
    document.querySelectorAll('.tool-card img').forEach(img => {
      img.addEventListener('load', function () {
        this.style.opacity = '1';
      });

      img.addEventListener('error', function () {
        this.src = 'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="300" height="400" viewBox="0 0 300 400"><rect width="300" height="400" fill="%23f0f0f0"/><text x="50%" y="50%" text-anchor="middle" fill="%23999" font-family="Arial" font-size="16">Image not found</text></svg>';
      });
    });

    // Smooth scroll for better UX
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
          target.scrollIntoView({
            behavior: 'smooth',
            block: 'start'
          });
        }
      });
    });
  </script>

</body>

</html>